# =================================================================
# Face Recognition API - MySQL Authentication Configuration
# Copy this file to .env and update with your actual values
# Version: 2.0.0 - MySQL Authentication System
# =================================================================

# =================
# DATABASE SETTINGS
# =================

# MySQL Database Configuration
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=
DB_NAME=face_db

# Database Connection Pool
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# ===================
# AUTHENTICATION SETTINGS
# ===================

# MySQL Authentication
AUTH_TABLE=taikhoan
AUTH_USERNAME_FIELD=username
AUTH_PASSWORD_FIELD=passwrd

# Session Configuration
SESSION_TIMEOUT=86400          # 24 hours in seconds
SESSION_CLEANUP_INTERVAL=3600  # 1 hour cleanup interval

# Security Headers
SECURITY_HEADERS=true
CORS_ORIGINS=*                 # In production, specify exact origins
COOKIE_SECURE=false            # Set to true for HTTPS in production
COOKIE_SAMESITE=lax            # lax, strict, or none
COOKIE_HTTPONLY=true           # Always keep true for security

# ===================
# APPLICATION SETTINGS
# ===================

# Server Configuration
APP_HOST=0.0.0.0
APP_PORT=8000
APP_DEBUG=true                 # Set to false in production

# API Configuration
API_PREFIX=/api/v1             # Optional API prefix
MAX_UPLOAD_SIZE=5242880        # 5MB in bytes

# ===================
# FACE RECOGNITION SETTINGS
# ===================

# FAISS Configuration
FAISS_INDEX_PATH=./index/
FAISS_NPROBE=10               # Search parameter
FAISS_INDEX_TYPE=IndexFlatIP  # Index type

# Model Configuration
MODEL_PATH=./model/
EMBEDDING_DIM=512             # ArcFace embedding dimension
CONFIDENCE_THRESHOLD=0.5      # Minimum confidence for matches

# ===================
# SECURITY SETTINGS
# ===================

# CORS Configuration
CORS_ORIGINS=*                # * for all origins, or comma-separated list
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE
CORS_ALLOW_HEADERS=*

# Security Headers
SECURITY_HEADERS_ENABLED=true
XSS_PROTECTION=true
CONTENT_TYPE_NOSNIFF=true
FRAME_OPTIONS=DENY

# ===================
# LOGGING & MONITORING
# ===================

# Logging Configuration
LOG_LEVEL=INFO                # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=./logs/app.log
LOG_MAX_SIZE=10485760         # 10MB
LOG_BACKUP_COUNT=5

# Performance Monitoring
ENABLE_METRICS=true
METRICS_ENDPOINT=/metrics

# ===================
# DEVELOPMENT SETTINGS
# ===================

# Development Tools
RELOAD_ON_CHANGE=true         # Auto-reload on file changes
ENABLE_SWAGGER=true           # Enable Swagger UI
ENABLE_REDOC=true             # Enable ReDoc

# Debug Settings
DEBUG_SQL=false               # Print SQL queries
DEBUG_AUTH=false              # Print auth debug info
DEBUG_PERFORMANCE=false       # Print performance metrics

# ===================
# PRODUCTION OVERRIDES
# ===================
# Uncomment and set for production deployment

# APP_DEBUG=false
# COOKIE_SECURE=true
# COOKIE_SAMESITE=strict
# SESSION_TIMEOUT=3600
# CORS_ORIGINS=https://yourdomain.com
# LOG_LEVEL=WARNING
# ENABLE_METRICS=true

# ===================
# OPTIONAL: REDIS SETTINGS
# ===================
# For production session storage

# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0
# USE_REDIS_SESSIONS=false

# ===================
# EXAMPLE VALUES
# ===================
# Replace these with your actual configuration

# Example MySQL Configuration:
# DB_HOST=192.168.1.100
# DB_USER=face_api_user
# DB_PASSWORD=secure_password_123
# DB_NAME=face_recognition_db

# Example Production Security:
# COOKIE_SECURE=true
# CORS_ORIGINS=https://api.yourcompany.com,https://admin.yourcompany.com
# SESSION_TIMEOUT=1800
